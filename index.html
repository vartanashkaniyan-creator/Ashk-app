<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Android App Builder</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    textarea {
      width: 100%;
      height: 150px;
      margin-bottom: 10px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    pre {
      background: #111;
      color: #0f0;
      padding: 15px;
      overflow: auto;
    }
  </style>
</head>
<body>

<h2>Android App Builder (Simple)</h2>

<p>دستور اپ رو اینجا بنویس:</p>
<textarea id="instruction" placeholder="مثال: یک اپ لیست یادداشت بساز"></textarea>

<button id="generate">Generate Code</button>

<h3>Generated Code:</h3>
<pre id="output"></pre>

<script>
/* ================= utils ================= */
function cleanText(text) {
  return text.trim().toLowerCase();
}

/* ================= engine ================= */
function buildApp(instruction) {
  if (instruction.includes("لیست")) {
    return generateListApp();
  }
  return "// دستور شناخته نشد";
}

/* ================= codeGenerator ================= */
function generateListApp() {
  return `
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>List App</title>
</head>
<body>
  <h3>My List</h3>
  <input id="item" placeholder="New item">
  <button onclick="add()">Add</button>
  <ul id="list"></ul>

  <script>
    function add() {
      const text = document.getElementById('item').value;
      if (!text) return;
      const li = document.createElement('li');
      li.innerText = text;
      document.getElementById('list').appendChild(li);
      document.getElementById('item').value = '';
    }
  <\/script>
</body>
</html>
`;
}

/* ================= main ================= */
document.getElementById("generate").onclick = () => {
  const input = cleanText(
    document.getElementById("instruction").value
  );
  const code = buildApp(input);
  document.getElementById("output").innerText = code;
};
</script>

</body>
</html>
